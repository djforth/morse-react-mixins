{"version":3,"sources":["../src/widths_mixins.js"],"names":[],"mappings":"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","file":"widths_mixins.js","sourcesContent":["\n//Libraries\nconst React = require(\"react\")\n    , ReactDOM = require(\"react-dom\")\n    , _     = require(\"lodash\");\n\nconst attrs = [\"padding-left\", \"padding-right\", \"margin-left\", \"margin-right\", \"border-left-width\", \"border-right-width\", \"width\"];\n\nlet elements  = [];\nlet elm_sizes = [];\n\nvar getValue = (v)=>{\n  return Number(v.replace(/[a-z]|%/g, \"\"));\n};\n\nvar getTrueWidth = (e)=>{\n  let elm =  window.getComputedStyle(e, null);\n  let n = 0;\n  _.forEach(attrs, (attr)=>{\n    let v = getValue(elm.getPropertyValue(attr));\n    n += v;\n  });\n  addElement(e, n);\n  return n;\n};\n\nfunction addElement(elm, w){\n  if(\n    _.includes(\n      _.pluck(elm_sizes,  \"elm\"),\n      elm)\n    ){\n      elm_sizes = _.map(elm_sizes, (e)=>{\n\n      if(e.elm.isEqualNode(elm)) e.width = w;\n\n      return e;\n    });\n  } else {\n    elm_sizes.push({elm:elm, width:w});\n  }\n\n\n}\n\n\n\nmodule.exports = {\n  getTrueWidth:getTrueWidth\n\n  , convertRefs:(refs)=>{\n    elements = _.values(refs);\n    return this;\n  }\n\n  , convertDomlist:()=>{\n    elements = Array.prototype.slice.call(list);\n    return this;\n  }\n\n  , convertReactComps(refs){\n     elements = _.map(_.values(refs), (r)=>{\n      if(_.isElement(r)) return r;\n      return ReactDOM.findDOMNode(r);\n    });\n\n  }\n\n  , getAllWidths:()=>{\n    return elm_sizes;\n  }\n\n  , getWidths:(list)=>{\n    let items = (_.isArray(list)) ? list : elements;\n    // console.log(list.length, list)\n    let width  = _.reduce(items, function(p, c){\n      let n = (_.isNumber(p)) ? p : getTrueWidth(p);\n      n += getTrueWidth(c);\n      return n;\n    });\n\n    return width;\n  }\n\n\n};\n\n"]}